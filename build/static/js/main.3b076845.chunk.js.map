{"version":3,"sources":["components/Cart/Checkout.module.css","components/UI/Modale.module.css","pages/OrderSummary.module.css","components/Cart/Cart.module.css","components/Layout/Header.module.css","components/Cart/CartItem.module.css","components/Auth/AuthForm.module.css","components/Layout/HeaderCartButton.module.css","components/Meals/MealItem/MealItems.module.css","components/UI/Card.module.css","components/Meals/AvailableMeals.module.css","components/Meals/MealItem/MealItemForm.module.css","components/UI/Input.module.css","components/Meals/MealsSummary.module.css","assets/meals.jpg","components/UI/Card.js","store/auth-context.js","pages/OrderSummary.js","components/Cart/CartIcon.js","store/cart-context.js","components/Layout/HeaderCartButton.js","components/Layout/Header.js","components/UI/Modale.js","components/Cart/CartItem.js","components/Cart/Checkout.js","components/Cart/Cart.js","components/UI/Input.js","components/Meals/MealItem/MealItemForm.js","components/Meals/MealItem/MealItems.js","components/UI/ErrorModale.js","components/Meals/AvailableMeals.js","components/Meals/MealsSummary.js","components/Meals/Meals.js","store/CartProvider.js","pages/HomePage.js","components/Auth/AuthForm.js","pages/AuthPage.js","App.js","index.js"],"names":["module","exports","Card","props","className","classes","card","children","AuthContext","React","createContext","token","isLoggedIn","login","logout","AuthContextProvider","initialToken","localStorage","getItem","useState","setToken","contextValue","console","log","setItem","removeItem","Provider","value","OrderSummary","meals","setMeals","setError","isLoading","setIsLoading","authCtx","useContext","MainTheme","header","to","onClick","src","mealsImage","alt","useEffect","fetchOrderedMeals","a","loadedMeals","fetch","fetchmeals","ok","Error","json","key","data","i","orderedItems","length","push","id","name","price","amount","catch","error","message","map","mealItem","list","CartIcon","xmlns","viewBox","fill","d","CartContext","items","totalAmount","addItem","item","clearCart","HeaderCartButton","cartCtx","btnIsHighlighted","setBtnIsHighlighted","numberOfCartItems","reduce","curNumber","btnClasses","button","bump","timer","setTimeout","clearTimeout","onShow","icon","badge","Header","Fragment","onShowClick","Backdrop","backdrop","onBackDropClick","ModaleOverlay","modal","Modale","ReactDom","createPortal","onHide","document","getElementById","CartItem","toFixed","summary","actions","onRemove","onAdd","isEmpty","trim","Checkout","street","city","postalCode","formInputsValidity","setFormInputsValidity","nameInputRef","useRef","streetInputRef","postalCodeInputRef","cityInputRef","nameControlClasses","control","invalid","streetControlClasses","postalCodeControlClasses","cityControlClasses","form","onSubmit","event","preventDefault","enteredName","current","enteredStreet","enteredPostalCode","enteredCity","enteredNameIsValid","enteredStreetIsValid","enteredCityIsValid","enteredPostalCodeIsValid","onConfirm","htmlFor","type","ref","onCancel","submit","disabled","Cart","hasItems","isCheckout","setIsCheckout","isSubmitting","setIsSubmitting","didSubmit","setDidSubmit","cartItemAddHandler","cartItemRemoveHandler","submitOrderHandler","userData","method","body","JSON","stringify","user","cartItems","bind","modalActions","onHideClick","cartModalContent","total","isSubmittingModalContent","didSubmitModalContent","Input","input","label","MealItemForm","amountIsValid","setAmountIsValid","enteredAmount","target","onAddToCart","min","max","step","defaultValue","MealItems","meal","mealName","description","mealDescription","mealPrice","ErrorModale","title","content","AvailableMeals","fetchMealsHandler","MealsSummary","Meals","defaultCartState","cartReducer","state","action","updatedItems","existingCartItemIndex","findIndex","existingCartItem","updatedItem","concat","updatedTotalAmount","filter","CartProvider","useReducer","cartState","dispatchCartAction","cartContext","HomePage","isCartClicked","setCartClicked","AuthForm","history","useHistory","emailInputRef","passwordInputRef","isLogin","setIsLogin","auth","url","enteredEmail","enteredPassword","email","password","returnSecureToken","headers","then","res","idToken","replace","err","alert","required","toggle","prevState","AuthPage","App","path","exact","ReactDOM","render"],"mappings":"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","file":"static/js/main.3b076845.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Checkout_form__3NRZN\",\"control\":\"Checkout_control__2JFoN\",\"actions\":\"Checkout_actions__3EBZP\",\"submit\":\"Checkout_submit__1_jna\",\"disable\":\"Checkout_disable__3QdJl\",\"invalid\":\"Checkout_invalid__1vKC7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Modale_header__1_aq3\",\"content\":\"Modale_content__3e6Ny\",\"backdrop\":\"Modale_backdrop__3mTBY\",\"modal\":\"Modale_modal__3sgBX\",\"slide-down\":\"Modale_slide-down__36UyV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"OrderSummary_header__1jWg3\",\"main-image\":\"OrderSummary_main-image__SQW2I\",\"meals\":\"OrderSummary_meals__2YCeo\",\"meals-appear\":\"OrderSummary_meals-appear__cpuxX\",\"list\":\"OrderSummary_list__1ysvW\",\"description\":\"OrderSummary_description__3xvWv\",\"price\":\"OrderSummary_price__22Cdt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__2bAXY\",\"total\":\"Cart_total__2W64s\",\"actions\":\"Cart_actions__27j-U\",\"button--alt\":\"Cart_button--alt__aM9_L\",\"button\":\"Cart_button__1JHBV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3-R3e\",\"main-image\":\"Header_main-image__2NcN9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__2mqkY\",\"summary\":\"CartItem_summary__zvUoi\",\"price\":\"CartItem_price__30Adc\",\"amount\":\"CartItem_amount__1YAxD\",\"actions\":\"CartItem_actions__2BwBD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"AuthForm_auth__3gXor\",\"control\":\"AuthForm_control__3_Yfb\",\"actions\":\"AuthForm_actions__I4FKU\",\"toggle\":\"AuthForm_toggle__244q2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderCartButton_button__1FZt3\",\"icon\":\"HeaderCartButton_icon__uznqd\",\"badge\":\"HeaderCartButton_badge__24whQ\",\"bump\":\"HeaderCartButton_bump__1LgqI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meal\":\"MealItems_meal__16MWt\",\"description\":\"MealItems_description__3sdmn\",\"price\":\"MealItems_price__37D2i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3XLCD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meals\":\"AvailableMeals_meals__1LEeo\",\"meals-appear\":\"AvailableMeals_meals-appear__3y6Pr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MealItemForm_form__2z8Yd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__1L11R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summary\":\"MealsSummary_summary__2j7Hi\"};","export default __webpack_public_path__ + \"static/media/meals.2971f633.jpg\";","import classes from \"./Card.module.css\";\r\n\r\nconst Card = (props) => {\r\n    return <div className={`${classes.card} ${props.className}`}>{props.children}</div>\r\n}\r\n\r\nexport default Card;\r\n","import React, { useState } from 'react';\r\n\r\nconst AuthContext = React.createContext({\r\n  token: '',\r\n  isLoggedIn: false,\r\n  login: (token) => {},\r\n  logout: () => {},\r\n});\r\n\r\nexport const AuthContextProvider = (props) => {\r\n  const initialToken = localStorage.getItem(\"token\");\r\n  const [token, setToken] = useState(initialToken);\r\n\r\n  const userIsLoggedIn = !!token;\r\n\r\n  const loginHandler = (token) => {\r\n    setToken(token);\r\n    console.log(\"here\");\r\n    localStorage.setItem(\"token\",localStorage.getItem(\"token\"));\r\n  };\r\n\r\n  const logoutHandler = () => {\r\n    setToken(null);\r\n    localStorage.removeItem(\"token\");\r\n  };\r\n\r\n  const contextValue = {\r\n    token: token,\r\n    isLoggedIn: userIsLoggedIn,\r\n    login: loginHandler,\r\n    logout: logoutHandler,\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={contextValue}>\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthContext;","import { Fragment ,useContext, useEffect ,useState} from \"react\";\r\nimport { Link ,Redirect,useHistory} from \"react-router-dom\";\r\nimport classes from \"./OrderSummary.module.css\";\r\nimport mealsImage from \"../assets/meals.jpg\";\r\nimport Card from \"../components/UI/Card\";\r\nimport AuthContext from \"../store/auth-context\";\r\nconst OrderSummary = ()=>{\r\n    const [meals,setMeals] = useState([]);\r\n    const [error,setError] = useState();\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const authCtx = useContext(AuthContext);\r\n    console.log(authCtx);\r\n\r\n    const isLoggedIn = authCtx.isLoggedIn;\r\n    const logoutHandler = ()=>{\r\n        console.log(authCtx.logout()+\"Hello\");\r\n    }\r\n    const MainTheme = <div>\r\n            <header className={classes.header}>\r\n                    <h1>MyMeals</h1>\r\n                    <nav>\r\n                        <ul>\r\n                            <li><Link to=\"/OrderSummary\">OrderSummary</Link></li>\r\n                            {!isLoggedIn && <li><Link to=\"/login\">Login/Register</Link></li>}\r\n                            {isLoggedIn===true && <li><Link to='/' onClick={logoutHandler}>Logout</Link></li>}\r\n                        </ul>\r\n                    </nav>\r\n            </header>\r\n            <div className={classes['main-image']}>\r\n                <img src={mealsImage} alt=\"A table full of delicious food!\"/>\r\n            </div>\r\n        </div>\r\n    useEffect(() => {\r\n        if(isLoggedIn===true){\r\n            const fetchOrderedMeals = async()=>{\r\n            const loadedMeals=[];\r\n            const fetchmeals = await fetch(\"https://mohit-http-default-rtdb.firebaseio.com/orders.json\");\r\n            if(!fetchmeals.ok){\r\n              throw new Error(\"Something went wrong\");\r\n            }\r\n            setIsLoading(true);\r\n            const data = await fetchmeals.json();\r\n            console.log(data);\r\n            for(const key in data){\r\n                for(let i=0;i<data[key].orderedItems.length;i++){\r\n                        loadedMeals.push({\r\n                        key: data[key].orderedItems[i].id,\r\n                        id:key,\r\n                        name: data[key].orderedItems[i].name,\r\n                        price: data[key].orderedItems[i].price,\r\n                        amount: data[key].orderedItems[i].amount\r\n                    })\r\n                }\r\n            }\r\n            console.log(loadedMeals);\r\n            setMeals(loadedMeals);\r\n        }\r\n        fetchOrderedMeals().catch((error)=>{\r\n            setError(error.message);\r\n        });\r\n    }\r\n    }, [])\r\n    console.log(\"order \")\r\n    if(isLoggedIn){\r\n        if(meals.length===0){\r\n            return <Fragment>\r\n            {MainTheme}\r\n            <section className={classes.meals}>\r\n                        <Card>\r\n                            {isLoading && <h3>Sorry!! You have not placed any order yet. Please place some order to see items in your Order Summary</h3> || <h3>Loading Data...</h3>}   \r\n                        </Card>\r\n                    </section>\r\n            </Fragment>\r\n        }\r\n        if(meals.length>0){\r\n            return <Fragment>\r\n                {MainTheme}\r\n                <section className={classes.meals}>\r\n                <Card>\r\n                    <ul>\r\n                        {meals.map(mealItem =>\r\n                                    <li key={mealItem.key}>\r\n                                            <div className={classes.list} >\r\n                                                <span><h3>{mealItem.name}</h3></span>\r\n                                                <span>{\"X \"}{mealItem.amount}</span>\r\n                                                <span className={classes.price}>{\"$\"+mealItem.price}</span>\r\n                                            </div>\r\n                                    </li>\r\n                                )}\r\n                        </ul>\r\n                        </Card>\r\n                </section>\r\n            </Fragment>\r\n        }\r\n    }\r\nif(!isLoggedIn){\r\n    return <Fragment>\r\n        {MainTheme}\r\n            <section className={classes.meals}>\r\n                    <Card>\r\n                        {<h3>Sorry!! You cannot place orders as you are not LoggedIn, first login then place orders.</h3>}   \r\n                    </Card>\r\n            </section>\r\n        </Fragment>\r\n\r\n}\r\n    return null;\r\n}\r\n\r\nexport default OrderSummary;","const CartIcon = () => {\r\n    return (\r\n      <svg\r\n        xmlns='http://www.w3.org/2000/svg'\r\n        viewBox='0 0 20 20'\r\n        fill='currentColor'\r\n      >\r\n        <path d='M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z' />\r\n      </svg>\r\n    );\r\n  };\r\n  \r\n  export default CartIcon;","import React from \"react\";\r\n\r\nconst CartContext = React.createContext({\r\n    items:[],\r\n    totalAmount: 0,\r\n    addItem : (item)=>{},\r\n    removeItem : (id)=>{},\r\n    clearCart : ()=>{}\r\n});\r\nexport default CartContext","import React, { useContext,useState,useEffect } from \"react\";\r\nimport CartIcon from \"../Cart/CartIcon\";\r\nimport classes from \"./HeaderCartButton.module.css\";\r\nimport CartContext from \"../../store/cart-context\";\r\n\r\nconst HeaderCartButton = (props) =>{\r\n    const cartCtx = useContext(CartContext);\r\n    const [btnIsHighlighted,setBtnIsHighlighted] = useState(false);\r\n\r\n    const numberOfCartItems = cartCtx.items.reduce((curNumber,item)=>{\r\n        return curNumber+item.amount;\r\n    },0);\r\n\r\n    const btnClasses =  `${classes.button} ${btnIsHighlighted ? classes.bump : \"\"}`;\r\n    const { items } = cartCtx;\r\n    useEffect(()=>{\r\n        if(items.length===0){\r\n            return;\r\n        }\r\n        setBtnIsHighlighted(true);\r\n\r\n        const timer = setTimeout(()=>{\r\n            setBtnIsHighlighted(false);\r\n        },300);\r\n\r\n        return ()=>{\r\n            clearTimeout(timer);\r\n        }\r\n    },[items]);\r\n    return <div>\r\n        <button className={btnClasses} onClick={props.onShow}>\r\n            <span className={classes.icon}>\r\n                <CartIcon />\r\n            </span>\r\n            <span>Your Cart</span>\r\n            <span className={classes.badge}>{numberOfCartItems}</span>\r\n        </button>\r\n    </div>\r\n}\r\n\r\nexport default HeaderCartButton;","import React, { useContext } from \"react\"\r\nimport classes from \"./Header.module.css\";\r\nimport mealsImage from \"../../assets/meals.jpg\";\r\nimport HeaderCartButton from \"./HeaderCartButton\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport AuthContext from \"../../store/auth-context\";\r\nconst Header = (props) =>{\r\n    const logoutHandler = ()=>{\r\n        console.log(authCtx.logout()+\"Hello\");\r\n    }\r\n    const authCtx = useContext(AuthContext);\r\n    return <React.Fragment>\r\n        <header className={classes.header}>\r\n            <h1>MyMeals</h1>\r\n            <HeaderCartButton onShow={props.onShowClick}/>\r\n            <nav>\r\n                <ul>\r\n                    <li><Link to=\"/OrderSummary\">OrderSummary</Link></li>\r\n                    {!authCtx.isLoggedIn && <li><Link to=\"/login\">Login/Register</Link></li>}\r\n                    {authCtx.isLoggedIn && <li><Link to='/' onClick={logoutHandler}>Logout</Link></li>}\r\n                </ul>\r\n            </nav>\r\n        </header>\r\n        <div className={classes['main-image']}>\r\n            <img src={mealsImage} alt=\"A table full of delicious food!\"/>\r\n        </div>\r\n        \r\n    </React.Fragment>\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport ReactDom from \"react-dom\";\r\nimport classes from \"./Modale.module.css\";\r\n\r\nconst Backdrop = (props) =>{\r\n    return <div className={classes.backdrop} onClick={props.onBackDropClick}></div>\r\n}\r\n\r\nconst ModaleOverlay = (props) =>{\r\n    return <div className={classes.modal}>\r\n            <div>{props.children}</div>\r\n        </div>\r\n}\r\nconst Modale = (props) =>{\r\n    return <React.Fragment>\r\n        {ReactDom.createPortal(<Backdrop onBackDropClick={props.onHide}/>,document.getElementById(\"overlays\"))}\r\n        {ReactDom.createPortal(<ModaleOverlay>{props.children}</ModaleOverlay>,document.getElementById(\"overlays\"))}\r\n    </React.Fragment>\r\n}\r\n\r\nexport default Modale;","import classes from './CartItem.module.css';\n\nconst CartItem = (props) => {\n  const price = `$${props.price.toFixed(2)}`;\n\n  return (\n    <li className={classes['cart-item']}>\n      <div>\n        <h2>{props.name}</h2>\n        <div className={classes.summary}>\n          <span className={classes.price}>{price}</span>\n          <span className={classes.amount}>x {props.amount}</span>\n        </div>\n      </div>\n      <div className={classes.actions}>\n        <button onClick={props.onRemove}>−</button>\n        <button onClick={props.onAdd}>+</button>\n      </div>\n    </li>\n  );\n};\n\nexport default CartItem;\n","import { useRef, useState,useContext } from 'react';\r\nimport AuthContext from '../../store/auth-context';\r\n\r\nimport classes from './Checkout.module.css';\r\n\r\nconst isEmpty = (value) => value.trim() === '';\r\nconst isFiveChars = (value) => value.trim().length === 5;\r\n\r\nconst Checkout = (props) => {\r\n  const [formInputsValidity, setFormInputsValidity] = useState({\r\n    name: true,\r\n    street: true,\r\n    city: true,\r\n    postalCode: true,\r\n  });\r\n  const authCtx = useContext(AuthContext);\r\n  console.log(authCtx.isLoggedIn+\" LoggedIn\");\r\n  const nameInputRef = useRef();\r\n  const streetInputRef = useRef();\r\n  const postalCodeInputRef = useRef();\r\n  const cityInputRef = useRef();\r\n\r\n  const confirmHandler = (event) => {\r\n    event.preventDefault();\r\n\r\n    const enteredName = nameInputRef.current.value;\r\n    const enteredStreet = streetInputRef.current.value;\r\n    const enteredPostalCode = postalCodeInputRef.current.value;\r\n    const enteredCity = cityInputRef.current.value;\r\n\r\n    const enteredNameIsValid = !isEmpty(enteredName);\r\n    const enteredStreetIsValid = !isEmpty(enteredStreet);\r\n    const enteredCityIsValid = !isEmpty(enteredCity);\r\n    const enteredPostalCodeIsValid = isFiveChars(enteredPostalCode);\r\n\r\n    setFormInputsValidity({\r\n      name: enteredNameIsValid,\r\n      street: enteredStreetIsValid,\r\n      city: enteredCityIsValid,\r\n      postalCode: enteredPostalCodeIsValid,\r\n    });\r\n\r\n    const formIsValid =\r\n      enteredNameIsValid &&\r\n      enteredStreetIsValid &&\r\n      enteredCityIsValid &&\r\n      enteredPostalCodeIsValid;\r\n\r\n    if (!formIsValid) {\r\n      return;\r\n    }\r\n\r\n    props.onConfirm({\r\n      name: enteredName,\r\n      street: enteredStreet,\r\n      city: enteredCity,\r\n      postalCode: enteredPostalCode,\r\n    });\r\n  };\r\n\r\n  const nameControlClasses = `${classes.control} ${\r\n    formInputsValidity.name ? '' : classes.invalid\r\n  }`;\r\n  const streetControlClasses = `${classes.control} ${\r\n    formInputsValidity.street ? '' : classes.invalid\r\n  }`;\r\n  const postalCodeControlClasses = `${classes.control} ${\r\n    formInputsValidity.postalCode ? '' : classes.invalid\r\n  }`;\r\n  const cityControlClasses = `${classes.control} ${\r\n    formInputsValidity.city ? '' : classes.invalid\r\n  }`;\r\n\r\n  return (\r\n    <form className={classes.form} onSubmit={confirmHandler}>\r\n      <div className={nameControlClasses}>\r\n        <label htmlFor='name'>Your Name</label>\r\n        <input type='text' id='name' ref={nameInputRef} />\r\n        {!formInputsValidity.name && <p>Please enter a valid name!</p>}\r\n      </div>\r\n      <div className={streetControlClasses}>\r\n        <label htmlFor='street'>Street</label>\r\n        <input type='text' id='street' ref={streetInputRef} />\r\n        {!formInputsValidity.street && <p>Please enter a valid street!</p>}\r\n      </div>\r\n      <div className={postalCodeControlClasses}>\r\n        <label htmlFor='postal'>Postal Code</label>\r\n        <input type='text' id='postal' ref={postalCodeInputRef} />\r\n        {!formInputsValidity.postalCode && (\r\n          <p>Please enter a valid postal code (5 characters long)!</p>\r\n        )}\r\n      </div>\r\n      <div className={cityControlClasses}>\r\n        <label htmlFor='city'>City</label>\r\n        <input type='text' id='city' ref={cityInputRef} />\r\n        {!formInputsValidity.city && <p>Please enter a valid city!</p>}\r\n      </div>\r\n      <div className={classes.actions}>\r\n        <button type='button' onClick={props.onCancel}>\r\n          Cancel\r\n        </button>\r\n        <button className={!authCtx.isLoggedIn ? classes.disabled : classes.submit} disabled={!authCtx.isLoggedIn}>Confirm</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Checkout;","import classes from \"./Cart.module.css\";\r\nimport React, { useContext,useState } from \"react\";\r\nimport Modale from \"../UI/Modale\";\r\nimport CartContext from \"../../store/cart-context\";\r\nimport CartItem from \"./CartItem\";\r\nimport Checkout from \"./Checkout\";\r\nimport AuthContext from \"../../store/auth-context\";\r\nconst Cart = (props) =>{\r\n\r\n    const cartCtx = useContext(CartContext);\r\n\r\n    const authCtx = useContext(AuthContext);\r\n\r\n    const hasItems = cartCtx.items.length>0;\r\n\r\n    const [isCheckout,setIsCheckout] = useState(false);\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [didSubmit, setDidSubmit] = useState(false);\r\n\r\n    const cartItemAddHandler = (item)=>{\r\n        cartCtx.addItem({...item,amount:1});\r\n    }\r\n    const cartItemRemoveHandler = (id)=>{\r\n        cartCtx.removeItem(id);\r\n    }\r\n    const orderHandler = ()=>{\r\n      setIsCheckout(true);\r\n    }\r\n    \r\n    const submitOrderHandler = async (userData) => {\r\n        setIsSubmitting(true);\r\n        await fetch('https://mohit-http-default-rtdb.firebaseio.com/orders.json', {\r\n          method: 'POST',\r\n          body: JSON.stringify({\r\n            user: userData,\r\n            orderedItems: cartCtx.items,\r\n          }),\r\n        });\r\n        setIsSubmitting(false);\r\n        setDidSubmit(true);\r\n        cartCtx.clearCart();\r\n      };\r\n\r\n    const cartItems = (\r\n        <ul className={classes['cart-items']}>\r\n          {cartCtx.items.map((item) => (\r\n            <CartItem \r\n                key={item.id} \r\n                name={item.name} \r\n                price={item.price} \r\n                amount={item.amount} \r\n                onRemove={cartItemRemoveHandler.bind(null,item.id)}\r\n                onAdd={cartItemAddHandler.bind(null,item)}\r\n              />\r\n          ))}\r\n        </ul>\r\n      );\r\n      const modalActions = (\r\n        <div className={classes.actions}>\r\n          <button className={classes['button--alt']} onClick={props.onHideClick}>\r\n            Close\r\n          </button>\r\n          {hasItems && (\r\n            <button className={classes.button} onClick={orderHandler}>\r\n              Order\r\n            </button>\r\n          )}\r\n        </div>\r\n      );\r\n      const cartModalContent = (\r\n        <React.Fragment>\r\n          {cartItems}\r\n          <div className={classes.total}>\r\n            <span>Total Amount</span>\r\n            <span>${cartCtx.totalAmount.toFixed(2)}</span>\r\n          </div>\r\n          {isCheckout && (\r\n            <Checkout onConfirm={submitOrderHandler} onCancel={props.onHideClick} />\r\n          )}\r\n          {!isCheckout && modalActions}\r\n        </React.Fragment>\r\n      );\r\n\r\n      const isSubmittingModalContent = <p>Sending order data...</p>;\r\n\r\n      const didSubmitModalContent = (\r\n        <React.Fragment>\r\n          <p>Successfully sent the order!</p>\r\n          <div className={classes.actions}>\r\n          <button className={classes.button} onClick={props.onHideClick}>\r\n            Close\r\n          </button>\r\n        </div>\r\n        </React.Fragment>\r\n      );\r\n\r\n        return <Modale onHide={props.onHideClick}>\r\n                    {!isSubmitting && !didSubmit && cartModalContent}\r\n                    {isSubmitting && isSubmittingModalContent}\r\n                    {!isSubmitting && didSubmit && didSubmitModalContent}\r\n        </Modale>\r\n}\r\n\r\nexport default Cart;","import classes from \"./Input.module.css\"\r\n\r\nconst Input = (props) =>{\r\n    return <div className={classes.input}>\r\n        <label htmlFor={props.input.id}>{props.label}</label>\r\n        <input {...props.input}/>\r\n    </div>\r\n}\r\nexport default Input;","import classes from \"./MealItemForm.module.css\";\r\nimport Input from \"../../UI/Input\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport AuthContext from \"../../../store/auth-context\";\r\n\r\nconst MealItemForm = (props) =>{\r\n    const [amountIsValid,setAmountIsValid] = useState(true);\r\n    const authCtx = useContext(AuthContext);\r\n    const isLoggedIn = authCtx.isLoggedIn;\r\n    const submitHandler = (event) =>{\r\n                event.preventDefault();\r\n                const enteredAmount = +event.target[0].value;\r\n                if(enteredAmount<1 || enteredAmount>5){\r\n                        setAmountIsValid(false);\r\n                        return;\r\n                }\r\n                props.onAddToCart(enteredAmount);\r\n    }\r\n    return <form className={classes.form} onSubmit={submitHandler}>\r\n            <Input \r\n                label=\"Amount\"\r\n                input={{\r\n                    id : \"amount\"+props.id,\r\n                    type: 'number',\r\n                    min: '1',\r\n                    max: '5',\r\n                    step: '1',\r\n                    defaultValue:\"1\",\r\n                }}\r\n            />\r\n            <button>+ Add</button>\r\n            {!amountIsValid && <p>Please enter a valid amount (1-5).</p>}\r\n        </form>\r\n}\r\nexport default MealItemForm;","import React, { useContext } from \"react\";\r\nimport CartContext from \"../../../store/cart-context\";\r\nimport MealItemForm from \"./MealItemForm\";\r\nimport classes from \"./MealItems.module.css\";\r\n\r\n\r\nconst MealItems = (props) =>{\r\n    const cartCtx = useContext(CartContext);\r\n    const addToCartHandler = (amount) =>{\r\n        cartCtx.addItem({\r\n                    id: props.id,\r\n                    name : props.mealName,\r\n                    price: props.mealPrice,\r\n                    amount:amount\r\n            }\r\n        );\r\n    } \r\n    return <li className={classes.meal}>\r\n             <div >\r\n                <h3>{props.mealName}</h3>\r\n                <div className={classes.description}>{props.mealDescription}</div>\r\n                <div className={classes.price}>{\"$\"+props.mealPrice}</div>\r\n             </div>\r\n             <div>\r\n                 <MealItemForm id={props.id} onAddToCart={addToCartHandler}/>\r\n             </div>\r\n           </li>\r\n}\r\n\r\nexport default MealItems;","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport classes from \"./Modale.module.css\";\r\nconst ErrorModale = (props) => {\r\n    return (\r\n    <div>\r\n        <div className={classes.backdrop}>\r\n            <Card className={classes.modal}>\r\n                <header className={classes.header}>\r\n                    <h2>{props.title}</h2>\r\n                </header>\r\n                <div className={classes.content}>\r\n                    <p>{props.message}</p>\r\n                </div>\r\n                </Card>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\nexport default ErrorModale;","import classes from \"./AvailableMeals.module.css\";\r\nimport Card from \"../UI/Card\";\r\nimport MealItems from \"./MealItem/MealItems\";\r\nimport {useEffect,useState} from \"react\";\r\nimport ErrorModale from \"../UI/ErrorModale\";\r\nconst AvailableMeals = () =>{\r\n        const [meals,setMeals] = useState([]);\r\n        const [error,setError] = useState();\r\n\r\n        useEffect(() => {\r\n          const fetchMealsHandler = async()=>{\r\n            const loadedMeals=[];\r\n            const fetchmeals = await fetch(\"https://mohit-http-default-rtdb.firebaseio.com/meals.json\");\r\n            if(!fetchmeals.ok){\r\n              throw new Error(\"Something went wrong\");\r\n            }\r\n            const data = await fetchmeals.json();\r\n            for(const key in data){\r\n              loadedMeals.push({\r\n                id:key,\r\n                description: data[key].description,\r\n                name: data[key].name,\r\n                price: data[key].price\r\n              })\r\n            }\r\n            setMeals(loadedMeals);\r\n          }\r\n          fetchMealsHandler().catch((error)=>{\r\n              setError(error.message);\r\n          });\r\n        }, []);\r\n        if(error){\r\n          return <ErrorModale title={\"Sorry!! Can't Load Items\"} message={error}/>\r\n        }\r\n        return <section className={classes.meals}>\r\n                <Card>\r\n                    <ul>\r\n                        {meals.map(mealItem =>\r\n                            <MealItems \r\n                                id={mealItem.id}\r\n                                key={mealItem.id}\r\n                                mealName={mealItem.name}\r\n                                mealDescription={mealItem.description}\r\n                                mealPrice={mealItem.price}\r\n                            />\r\n                        )}\r\n                   </ul>\r\n                </Card>\r\n            </section>\r\n}\r\n\r\nexport default AvailableMeals;","import classes from './MealsSummary.module.css';\r\n\r\nconst MealsSummary = () => {\r\n  return (\r\n    <section className={classes.summary}>\r\n      <h2>Delicious Food, Delivered To You</h2>\r\n      <p>\r\n        Choose your favorite meal from our broad selection of available meals\r\n        and enjoy a delicious lunch or dinner at home.\r\n      </p>\r\n      <p>\r\n        All our meals are cooked with high-quality ingredients, just-in-time and\r\n        of course by experienced chefs!\r\n      </p>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default MealsSummary;","import React from \"react\";\r\nimport AvailableMeals from \"./AvailableMeals\";\r\nimport MealsSummary from \"./MealsSummary\";\r\nconst Meals = (props) => {\r\n        return <React.Fragment>\r\n            <MealsSummary />\r\n            <AvailableMeals />\r\n        </React.Fragment>\r\n}\r\n\r\nexport default Meals;","import { useReducer } from \"react\";\r\nimport CartContext from \"./cart-context\";\r\n\r\n\r\nconst defaultCartState = {\r\n    items: [],\r\n    totalAmount: 0\r\n}\r\nconst cartReducer = (state,action)=>{\r\n    if(action.type===\"ADD\"){\r\n        let updatedItems\r\n        console.log(state.items);\r\n        console.log(action.item);\r\n        const existingCartItemIndex = state.items.findIndex(\r\n            item => item.id === action.item.id\r\n        );\r\n        const existingCartItem = state.items[existingCartItemIndex];\r\n        console.log(existingCartItem);\r\n        if(existingCartItem){\r\n            const updatedItem = {\r\n                ...existingCartItem,\r\n                amount: existingCartItem.amount+action.item.amount\r\n            }\r\n            updatedItems=[...state.items];\r\n            updatedItems[existingCartItemIndex]=updatedItem;\r\n        }\r\n        else{\r\n            updatedItems = state.items.concat(action.item);\r\n        }\r\n        const updatedTotalAmount = state.totalAmount + action.item.price*action.item.amount; \r\n        return {\r\n                items : updatedItems,\r\n                totalAmount : updatedTotalAmount\r\n            };\r\n    }\r\n    else if(action.type===\"REMOVE\"){\r\n        let updatedItems;\r\n        const existingCartItemIndex = state.items.findIndex(\r\n            item => item.id === action.id\r\n            );\r\n            const existingCartItem = state.items[existingCartItemIndex];\r\n            const updatedTotalAmount = state.totalAmount-existingCartItem.price;\r\n            if(existingCartItem.amount===1){\r\n                updatedItems = state.items.filter(item=>item.id!==action.id);\r\n                \r\n            }else{\r\n                const updatedItem = {\r\n                    ...existingCartItem,\r\n                    amount: existingCartItem.amount-1\r\n                }\r\n                updatedItems=[...state.items]\r\n                updatedItems[existingCartItemIndex]=updatedItem;\r\n            }\r\n          \r\n        return {\r\n                items : updatedItems,\r\n                totalAmount : updatedTotalAmount\r\n            };\r\n            \r\n            \r\n    }\r\n    if (action.type === 'CLEAR') {\r\n        return defaultCartState;\r\n      }\r\n    return defaultCartState;\r\n}\r\n\r\nconst CartProvider =(props)=>{\r\n    const [cartState,dispatchCartAction] = useReducer(cartReducer,defaultCartState);\r\n    const addItemCartHandler=(item)=>{\r\n        dispatchCartAction({\r\n            type: \"ADD\",\r\n            item: item\r\n        })\r\n    };\r\n    const removeItemCartHandler=(id)=>{\r\n        dispatchCartAction({\r\n            type: \"REMOVE\",\r\n            id : id\r\n        })\r\n    };\r\n    const clearCartHandler = () => {\r\n        dispatchCartAction({type: 'CLEAR'});\r\n    };\r\n\r\n    const cartContext = {\r\n        items: cartState.items,\r\n        totalAmount: cartState.totalAmount,\r\n        addItem: addItemCartHandler,\r\n        removeItem: removeItemCartHandler,\r\n        clearCart: clearCartHandler\r\n    };\r\n\r\n    return <CartContext.Provider value={cartContext}>\r\n        {props.children}\r\n    </CartContext.Provider>\r\n\r\n}\r\nexport default CartProvider;","import Header from \"../components/Layout/Header\";\r\nimport Cart from \"../components/Cart/Cart\";\r\nimport Meals from \"../components/Meals/Meals\";\r\nimport { useState } from \"react\";\r\nimport CartProvider from \"../store/CartProvider\"\r\nconst HomePage = () =>{\r\n    const [isCartClicked, setCartClicked] = useState(false);\r\n\r\n    const showCartHandler = () =>{\r\n      setCartClicked(true);\r\n    }\r\n    const hideCartHandler = () =>{\r\n      setCartClicked(false);\r\n    }\r\n    return(\r\n        <CartProvider>\r\n            {isCartClicked && <Cart onHideClick={hideCartHandler}/>}\r\n            <Header onShowClick={showCartHandler} /> \r\n            <main>\r\n            <Meals />\r\n            </main> \r\n        </CartProvider>\r\n    )\r\n}\r\n\r\nexport default HomePage","import { useState, useRef, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport AuthContext from '../../store/auth-context';\r\nimport classes from './AuthForm.module.css';\r\n\r\nconst AuthForm = () => {\r\n  const history = useHistory();\r\n  const emailInputRef = useRef();\r\n  const passwordInputRef = useRef();\r\n\r\n  const authCtx = useContext(AuthContext);\r\n\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const switchAuthModeHandler = () => {\r\n    setIsLogin((prevState) => !prevState);\r\n  };\r\n\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n\r\n    const enteredEmail = emailInputRef.current.value;\r\n    const enteredPassword = passwordInputRef.current.value;\r\n\r\n    // optional: Add validation\r\n\r\n    setIsLoading(true);\r\n    let url;\r\n    if (isLogin) {\r\n        url =\r\n        'https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDnFiNhG178JzbMlZPsulRe64utxghJrgo';\r\n    } else {\r\n        url =\r\n          'https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDnFiNhG178JzbMlZPsulRe64utxghJrgo';\r\n    }\r\n    fetch(url, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        email: enteredEmail,\r\n        password: enteredPassword,\r\n        returnSecureToken: true,\r\n      }),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    })\r\n      .then((res) => {\r\n        setIsLoading(false);\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          return res.json().then((data) => {\r\n            let errorMessage = 'Authentication failed!';\r\n            // if (data && data.error && data.error.message) {\r\n            //   errorMessage = data.error.message;\r\n            // }\r\n\r\n            throw new Error(errorMessage);\r\n          });\r\n        }\r\n      })\r\n      .then((data) => {\r\n        authCtx.login(data.idToken);\r\n        history.replace('/');\r\n      })\r\n      .catch((err) => {\r\n        alert(err.message);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <section className={classes.auth}>\r\n      <h1>{isLogin ? 'Login' : 'Sign Up'}</h1>\r\n      <form onSubmit={submitHandler}>\r\n        <div className={classes.control}>\r\n          <label htmlFor='email'>Your Email</label>\r\n          <input type='email' id='email' required ref={emailInputRef} />\r\n        </div>\r\n        <div className={classes.control}>\r\n          <label htmlFor='password'>Your Password</label>\r\n          <input\r\n            type='password'\r\n            id='password'\r\n            required\r\n            ref={passwordInputRef}\r\n          />\r\n        </div>\r\n        <div className={classes.actions}>\r\n          {!isLoading && (\r\n            <button>{isLogin ? 'Login' : 'Create Account'}</button>\r\n          )}\r\n          {isLoading && <p>Sending request...</p>}\r\n          <button\r\n            type='button'\r\n            className={classes.toggle}\r\n            onClick={switchAuthModeHandler}\r\n          >\r\n            {isLogin ? 'Create new account' : 'Login with existing account'}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AuthForm;","import { Fragment } from 'react';\r\nimport AuthForm from '../components/Auth/AuthForm';\r\nimport classes from \"../components/Layout/Header.module.css\"\r\nimport { Link } from 'react-router-dom';\r\nimport mealsImage from \"../assets/meals.jpg\"\r\nconst AuthPage = () => {\r\n    const MainTheme = <div>\r\n            <header className={classes.header}>\r\n                    <h1>MyMeals</h1>\r\n                    <nav>\r\n                        <ul>\r\n                            <li><Link to=\"/OrderSummary\">OrderSummary</Link></li>\r\n                            <li><Link to=\"/login\">Login/Register</Link></li>\r\n                        </ul>\r\n                    </nav>\r\n            </header>\r\n            <div className={classes['main-image']}>\r\n                <img src={mealsImage} alt=\"A table full of delicious food!\"/>\r\n            </div>\r\n        </div>\r\n  return <Fragment>\r\n      {MainTheme}\r\n      <AuthForm />\r\n  </Fragment>;\r\n};\r\n\r\nexport default AuthPage;","import { useContext,Fragment } from \"react\";\nimport { Route, Switch,Redirect } from \"react-router-dom\";\nimport OrderSummary from \"./pages/OrderSummary\";\nimport HomePage from \"./pages/HomePage\";\nimport AuthPage from \"./pages/AuthPage\";\nimport AuthContext from \"./store/auth-context\";\nfunction App() {\n\n  const authCtx = useContext(AuthContext);\n  return (\n    <Fragment>\n      <Switch>\n        <Route path=\"/ordersummary\" exact>\n          <OrderSummary/>\n        </Route>\n        <Route path=\"/login\" exact>\n          <AuthPage />\n        </Route>\n        <Route path=\"/\">\n          <HomePage />\n        </Route>\n      </Switch>\n    </Fragment>\n    \n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom/cjs/react-router-dom.min';\nimport { AuthContextProvider } from './store/auth-context';\n\nReactDOM.render(\n    <AuthContextProvider>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </AuthContextProvider>\n    , document.getElementById('root')\n    );\n"],"sourceRoot":""}